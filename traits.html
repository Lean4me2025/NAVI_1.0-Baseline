<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Traits · NOVA</title>
  <link rel="stylesheet" href="assets/styles.css" />
  <script src="assets/app.js"></script>
  <script src="assets/traits.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Start fresh when entering traits
      App.setTraits([]);
      const grid = document.querySelector('.traits-grid');
      const selectedEl = document.querySelector('#selectedCount');
      const seeBtn = document.querySelector('#seeResults');
      NOVA_TRAITS.forEach((t, i) => {
        const div = document.createElement('div');
        div.className = 'trait';
        div.innerHTML = `<div class="name">${t}</div><div class="tag">#01${String(i+1).padStart(2,'0')}` + `</div>`;
        div.addEventListener('click', () => {
          div.classList.toggle('selected');
          const current = App.getTraits();
          if (div.classList.contains('selected')) {
            current.push(t);
          } else {
            const idx = current.indexOf(t);
            if (idx > -1) current.splice(idx,1);
          }
          App.setTraits(current);
          selectedEl.textContent = App.getTraits().length;
          seeBtn.disabled = App.getTraits().length === 0;
        });
        grid.appendChild(div);
      });
      document.querySelector('#clear').addEventListener('click', () => {
        document.querySelectorAll('.trait.selected').forEach(el => el.classList.remove('selected'));
        App.setTraits([]);
        selectedEl.textContent = '0';
        seeBtn.disabled = true;
      });
      seeBtn.addEventListener('click', () => App.go('results.html'));
    });
  </script>
</head>
<body>

<header class="header">
  <div class="container header-inner">
    <div class="brand">
      <div class="logo"></div>
      <div>N O V A · N A V I</div>
    </div>
    <nav class="nav">
      <a href="index.html">Home</a>
      <a href="traits.html">Discover</a>
      <a href="results.html">My Snapshot</a>
      <a href="reflection.html">Reflect</a>
      <a href="offers.html">Plans</a>
      <a href="navi/welcome.html">Build</a>
    </nav>
  </div>
</header>

  <main class="container">
    <div class="card" style="margin-top:18px;">
      <div class="section-title">Select Your Traits</div>
      <p class="small" style="margin-top:-6px;">Choose as many that feel true right now. Selections glow vividly so you can clearly see what’s chosen.</p>
      <div class="traits-grid"></div>
      <div style="display:flex; align-items:center; gap:12px; margin-top:16px; flex-wrap:wrap;">
        <button id="clear" class="button secondary">Clear Selections</button>
        <span class="small">Selected: <strong id="selectedCount">0</strong>/50</span>
        <span class="small" style="opacity:.7;">(Brighter highlight = selected)</span>
        <button id="seeResults" class="button" style="margin-left:auto;" disabled>See My Results</button>
      </div>
    </div>
  </main>

<footer class="footer">
  <div class="container">
    Nova + Navi · Purpose → Path · © 2025
  </div>
</footer>

</body>
</html>
